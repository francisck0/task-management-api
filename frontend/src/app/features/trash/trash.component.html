<div class="container">
  <div class="page-header">
    <div>
      <h1>ğŸ—‘ï¸ Papelera</h1>
      <p class="text-secondary">Tareas eliminadas - Pueden ser restauradas</p>
    </div>
    <a routerLink="/tasks" class="btn btn-outline">â† Volver a Tareas</a>
  </div>

  @if (loading()) {
    <app-loading></app-loading>
  } @else if (error()) {
    <div class="alert alert-danger">{{ error() }}</div>
  } @else {
    @if (tasksPage(); as page) {
      @if (page.content.length === 0) {
      <div class="card">
        <div class="card-body empty-state">
          <p class="text-secondary">La papelera estÃ¡ vacÃ­a</p>
        </div>
      </div>
    } @else {
      <div class="tasks-list">
        @for (task of page.content; track task.id) {
          <div class="task-item">
            <div class="task-info">
              <h3 class="task-title">{{ task.title }}</h3>
              @if (task.description) {
                <p class="task-description">{{ task.description }}</p>
              }
              <div class="task-meta">
                <span class="badge badge-{{ task.status | lowercase }}">
                  {{ task.status | taskStatus }}
                </span>
                <span class="text-secondary">
                  Eliminada: {{ task.deletedAt | dateFormat }}
                </span>
              </div>
            </div>
            <div class="task-actions">
              <button (click)="restoreTask(task.id, $event)" class="btn btn-success">
                â™»ï¸ Restaurar
              </button>
            </div>
          </div>
        }
      </div>

      <app-pagination [page]="page" (pageChange)="onPageChange($event)"></app-pagination>
    }
    }
  }
</div>
