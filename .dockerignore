# ============================================================================
# .dockerignore - Excluye archivos del contexto de build de Docker
# ============================================================================
#
# ¿PARA QUÉ SIRVE .dockerignore?
# - Excluye archivos innecesarios del contexto de build de Docker
# - Reduce el tamaño del contexto enviado al daemon de Docker
# - Acelera los builds (menos archivos que copiar y analizar)
# - Mejora la seguridad (no incluye archivos sensibles en la imagen)
# - Mejora el uso de caché de Docker
#
# BENEFICIOS:
# ✅ Builds más rápidos (menos archivos para procesar)
# ✅ Imágenes más pequeñas (no incluye archivos innecesarios)
# ✅ Mejor seguridad (excluye secretos y credenciales)
# ✅ Mejor uso de caché (cambios en archivos ignorados no invalidan caché)
#
# SINTAXIS:
# - Cada línea es un patrón de exclusión
# - # para comentarios
# - ! para negar (incluir archivo que normalmente se excluiría)
# - ** para cualquier nivel de directorios
# - * para cualquier secuencia de caracteres
#
# ============================================================================

# ============================================================================
# GIT Y CONTROL DE VERSIONES
# ============================================================================
.git
.gitignore
.gitattributes
.github

# ============================================================================
# GRADLE BUILD
# ============================================================================
# Directorio de build de Gradle (se crea durante el build en Docker)
build/
.gradle/
gradle-app.setting
!gradle-wrapper.jar

# Archivos de caché de Gradle
.gradle
**/build/
!src/**/build/

# ============================================================================
# ARCHIVOS TEMPORALES Y LOGS
# ============================================================================
# Logs
logs/
*.log
*.log.*

# Archivos temporales
*.tmp
*.temp
*.swp
*.swo
*~
.DS_Store
Thumbs.db

# ============================================================================
# IDEs Y EDITORES
# ============================================================================

# IntelliJ IDEA
.idea/
*.iml
*.ipr
*.iws
out/

# Eclipse
.project
.classpath
.settings/
.factorypath
bin/

# VS Code
.vscode/
*.code-workspace

# NetBeans
nbproject/
nbbuild/
dist/
nbdist/
.nb-gradle/

# STS (Spring Tool Suite)
.apt_generated
.springBeans
.sts4-cache

# ============================================================================
# ARCHIVOS DE CONFIGURACIÓN SENSIBLES
# ============================================================================
# NUNCA incluir en imagen Docker

# Variables de entorno
.env
.env.*
.env.local
.env.*.local

# Secretos y claves
*.key
*.pem
*.p12
*.jks
*.pfx
private-key.txt
jwt-secret.txt

# Archivos de configuración de producción (pueden contener secretos)
*-prod.yml
*-prod.yaml
*-secrets.yml
*-secrets.yaml
application-prod.yml
application-secrets.yml

# ============================================================================
# DOCKER
# ============================================================================
# No incluir archivos Docker en el contexto de build
# (ya se usan, no necesitan copiarse a la imagen)

Dockerfile*
docker-compose*.yml
.dockerignore

# Volúmenes y datos de Docker
postgres-data/
pgadmin-data/
**/docker-data/

# ============================================================================
# TESTING
# ============================================================================
# Resultados de tests (se generan durante los tests, no se necesitan en la imagen)

# JUnit
**/target/surefire-reports/
**/target/failsafe-reports/
test-output/
test-results/

# Coverage reports
coverage/
.jacoco/
*.exec

# ============================================================================
# BACKUPS Y ARCHIVOS TEMPORALES
# ============================================================================
backups/
*.backup
*.bak
*.sql
*.sql.gz
*.dump

# ============================================================================
# NODE_MODULES (si se usa frontend con Node.js)
# ============================================================================
node_modules/
npm-debug.log
yarn-debug.log
yarn-error.log
package-lock.json
yarn.lock

# ============================================================================
# DOCUMENTACIÓN Y MARKDOWN
# ============================================================================
# Generalmente no se necesita en la imagen de producción

README*.md
CHANGELOG*.md
CONTRIBUTING*.md
LICENSE
*.md
!src/**/*.md

# Documentación generada
docs/
javadoc/

# ============================================================================
# CI/CD
# ============================================================================
.github/
.gitlab-ci.yml
.travis.yml
.circleci/
azure-pipelines.yml
Jenkinsfile

# ============================================================================
# OTROS ARCHIVOS DEL PROYECTO
# ============================================================================

# Makefile (usado para comandos locales, no en contenedor)
Makefile

# Scripts de desarrollo local
scripts/dev/
scripts/local/
*.sh

# Archivos de métricas y monitoreo local
metrics/
monitoring/

# Archivos de datos de prueba grandes
**/test-data/*.csv
**/test-data/*.json
**/test-data/*.xml

# ============================================================================
# OPTIMIZACIÓN: INCLUIR SOLO LO NECESARIO
# ============================================================================
#
# En el Dockerfile, usamos COPY selectivo:
# 1. COPY build.gradle settings.gradle ./ (para cachear dependencias)
# 2. COPY gradle ./gradle (wrapper de Gradle)
# 3. COPY src ./src (código fuente)
#
# Todo lo demás se excluye automáticamente con .dockerignore
#
# RESULTADO:
# - Contexto de build más pequeño (de ~500MB a ~50MB aprox.)
# - Builds más rápidos (menos archivos que analizar)
# - Mejor uso de caché de Docker
# - No se filtran secretos ni configuraciones sensibles
#
# ============================================================================

# ============================================================================
# VERIFICACIÓN
# ============================================================================
#
# Para ver qué archivos se están copiando al contexto de Docker:
#   docker build --no-cache -t test . 2>&1 | grep "Sending build context"
#
# Para ver el tamaño del contexto:
#   docker build --no-cache -t test .
#   (Verás: "Sending build context to Docker daemon XXX MB")
#
# Para listar archivos en el contexto (debugging):
#   docker run --rm -v $(pwd):/workspace -w /workspace alpine sh -c "find . -type f | head -50"
#
# ============================================================================
